{% extends "budgets/base.html" %}

{% block content %}

<h2 class="mt-3">Expenses</h2>
<div class="expenses-container mt-4">
  <ul class="list-group mt-3">
    {% for expense in expenses %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <div>
        <a href="{% url 'expense_detail' expense.id %}" class="text-decoration-none">{{ expense.item_name }}</a>
        <div class="text-muted">{{ expense.item_category }}</div>

        {% if expense.purchase_date %}
        <div class="text-muted">Date: {{ expense.purchase_date }}</div>
        {% else %}
        <div class="text-muted">Date: N/A</div>
        {% endif %}
      </div>
      <div class="d-flex">
        <span class="badge bg-secondary">${{ expense.item_cost }}</span>
        <form action="{% url 'expense_list' budget.id %}" method="POST">
          {% csrf_token %}
          <input type="hidden" name="expense_id" value="{{ expense.id }}">
          <button type="submit" class="btn btn-sm btn-danger">Delete</button>
        </form>
        <a href="{% url 'expense_edit' expense.id %}" class="btn btn-sm btn-primary ms-2">Edit</a>
      </div>
    </li>
    {% endfor %}
  </ul>
</div>

{% endblock %}
